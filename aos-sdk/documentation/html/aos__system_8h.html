<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Abeeway Geolocation Module SDK: aos-libs/aos-core/aos/aos_system.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Abeeway Geolocation Module SDK
   </div>
   <div id="projectbrief">A FreeRTOS based Software Development Kit for the Abeeway Geolocation Module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bbd625c80d66cf6285b9f7aba4ae7f44.html">aos-libs</a></li><li class="navelem"><a class="el" href="dir_9b4042f62b6e2c6c9d31918830fb9c1c.html">aos-core</a></li><li class="navelem"><a class="el" href="dir_ee79748c98311fa65b413a07936a7d99.html">aos</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">aos_system.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>System management and ISR to background process deferring.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="aos__common_8h_source.html">aos_common.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for aos_system.h:</div>
<div class="dyncontent">
<div class="center"><img src="aos__system_8h__incl.png" border="0" usemap="#aos-libs_2aos-core_2aos_2aos__system_8h" alt=""/></div>
<map name="aos-libs_2aos-core_2aos_2aos__system_8h" id="aos-libs_2aos-core_2aos_2aos__system_8h">
<area shape="rect" id="node3" href="aos__common_8h.html" title="Common definitions. " alt="" coords="70,95,181,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="aos__system_8h__dep__incl.png" border="0" usemap="#aos-libs_2aos-core_2aos_2aos__system_8hdep" alt=""/></div>
<map name="aos-libs_2aos-core_2aos_2aos__system_8hdep" id="aos-libs_2aos-core_2aos_2aos__system_8hdep">
<area shape="rect" id="node2" href="aos__gpio_8h.html" title="GPIO driver. " alt="" coords="193,95,340,136"/>
<area shape="rect" id="node6" href="aos__nmea__parser_8h.html" title="aos&#45;libs/aos&#45;core/aos\l/aos_nmea_parser.h" alt="" coords="373,95,520,136"/>
<area shape="rect" id="node7" href="aos__uart_8h.html" title="UART driver. " alt="" coords="619,95,765,136"/>
<area shape="rect" id="node8" href="aos__usb__cdc_8h.html" title="USB driver (serial communication support &#45; CDC&#45; only). " alt="" coords="517,184,664,225"/>
<area shape="rect" id="node10" href="srv__gnss_8h.html" title="GNSS service. " alt="" coords="790,95,935,136"/>
<area shape="rect" id="node3" href="aos__adc_8h.html" title="Analog to Digital Converter (ADC) " alt="" coords="5,184,152,225"/>
<area shape="rect" id="node4" href="aos__calib__hsi_8h.html" title="HSI calibration. " alt="" coords="176,184,323,225"/>
<area shape="rect" id="node5" href="aos__rf__switch_8h.html" title="RF switch driver. " alt="" coords="347,184,493,225"/>
<area shape="rect" id="node9" href="srv__cli_8h.html" title="Command Line Interface service. " alt="" coords="689,184,834,225"/>
</map>
</div>
</div>
<p><a href="aos__system_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga180fc342b26cbf6ec77a7f43bd8fb353"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#ga180fc342b26cbf6ec77a7f43bd8fb353">AOS_SYSTEM_MAX_USER_CALLBACK_ENTRY</a>&#160;&#160;&#160;32</td></tr>
<tr class="memdesc:ga180fc342b26cbf6ec77a7f43bd8fb353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of user than can be registered for ISR to background process deferring. <br /></td></tr>
<tr class="separator:ga180fc342b26cbf6ec77a7f43bd8fb353"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga97dab4b150358e9861a20430daeee534"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#ga97dab4b150358e9861a20430daeee534">aos_system_user_callback_t</a>) (uint8_t user_id, void *arg)</td></tr>
<tr class="memdesc:ga97dab4b150358e9861a20430daeee534"><td class="mdescLeft">&#160;</td><td class="mdescRight">User callback function definition for ISR to background process deferring.  <a href="group__aos__system.html#ga97dab4b150358e9861a20430daeee534">More...</a><br /></td></tr>
<tr class="separator:ga97dab4b150358e9861a20430daeee534"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga106980f33ba50e298d56722679e6fc4b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#ga106980f33ba50e298d56722679e6fc4b">aos_system_isr_to_bkg_users_t</a> { <br />
&#160;&#160;<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4ba95de9d40dc1b450459540aa6e6516374">aos_system_isr_to_bkg_lpuart1</a>, 
<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4ba9e00a5d780bddb5e11980c21a0bef71b">aos_system_isr_to_bkg_usart1</a>, 
<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4ba78dd077688e521198f4bbdbfa562987b">aos_system_isr_to_bkg_usb_cdc</a>, 
<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4ba0b6fc38693c3ff67ab4d17848afadd1e">aos_system_isr_to_bkg_radio</a>, 
<br />
&#160;&#160;<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4bae0c604622eba9911703fa572b86204d2">aos_system_isr_to_bkg_lorawan</a>, 
<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4bae330dfd5637c3e6f029582de55f02f8a">aos_system_isr_to_bkg_mac_timer</a>, 
<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4ba8b980e2e1c9c298f0413dc64e9552803">aos_system_isr_to_bkg_first_free</a>, 
<a class="el" href="group__aos__system.html#gga106980f33ba50e298d56722679e6fc4ba611eb3381ce304d8e2508549172c46dd">aos_system_isr_to_bkg_last_free</a> = AOS_SYSTEM_MAX_USER_CALLBACK_ENTRY -1
<br />
 }<tr class="memdesc:ga106980f33ba50e298d56722679e6fc4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Users that can be reserved for ISR -&gt; background process deferring.  <a href="group__aos__system.html#ga106980f33ba50e298d56722679e6fc4b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga106980f33ba50e298d56722679e6fc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83ea15eda499c78ec355074e8bfbc600"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#ga83ea15eda499c78ec355074e8bfbc600">aos_system_init</a> (void)</td></tr>
<tr class="memdesc:ga83ea15eda499c78ec355074e8bfbc600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the system. This function initializes the AOS system. It also create the system thread.  <a href="group__aos__system.html#ga83ea15eda499c78ec355074e8bfbc600">More...</a><br /></td></tr>
<tr class="separator:ga83ea15eda499c78ec355074e8bfbc600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ce26be7ad94e2582e99a5308a3b2b39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#ga5ce26be7ad94e2582e99a5308a3b2b39">aos_system_register_user_callback</a> (uint8_t *user_id, <a class="el" href="group__aos__system.html#ga97dab4b150358e9861a20430daeee534">aos_system_user_callback_t</a> callback, void *user_arg)</td></tr>
<tr class="memdesc:ga5ce26be7ad94e2582e99a5308a3b2b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user callback. Allocate a user identifier and register the callback to run under the system thread. This is mainly used to move from interruption context to task context. The system retrieves a free user ID and returns it via the user_id parameter.  <a href="group__aos__system.html#ga5ce26be7ad94e2582e99a5308a3b2b39">More...</a><br /></td></tr>
<tr class="separator:ga5ce26be7ad94e2582e99a5308a3b2b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa21e56dfcdb25af9ff8e1bc02a7e059b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#gaa21e56dfcdb25af9ff8e1bc02a7e059b">aos_system_register_callback</a> (uint8_t user_id, <a class="el" href="group__aos__system.html#ga97dab4b150358e9861a20430daeee534">aos_system_user_callback_t</a> callback, void *user_arg)</td></tr>
<tr class="memdesc:gaa21e56dfcdb25af9ff8e1bc02a7e059b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user callback. Register a user callback with a known user identifier. to run under the system thread. This is mainly used to move from interruption context to task context. This function is generally used by the system itself and used the reserved user identifier.  <a href="group__aos__system.html#gaa21e56dfcdb25af9ff8e1bc02a7e059b">More...</a><br /></td></tr>
<tr class="separator:gaa21e56dfcdb25af9ff8e1bc02a7e059b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd248eef7d10568aa7db444d883b5d12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#gacd248eef7d10568aa7db444d883b5d12">aos_system_unregister_callback</a> (uint8_t user_id)</td></tr>
<tr class="memdesc:gacd248eef7d10568aa7db444d883b5d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a user callback.  <a href="group__aos__system.html#gacd248eef7d10568aa7db444d883b5d12">More...</a><br /></td></tr>
<tr class="separator:gacd248eef7d10568aa7db444d883b5d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa36f9d97f9beeffc5da07397388e3070"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#gaa36f9d97f9beeffc5da07397388e3070">aos_system_trigger_user_callback</a> (uint8_t user_id)</td></tr>
<tr class="memdesc:gaa36f9d97f9beeffc5da07397388e3070"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger the system thread for a given user.  <a href="group__aos__system.html#gaa36f9d97f9beeffc5da07397388e3070">More...</a><br /></td></tr>
<tr class="separator:gaa36f9d97f9beeffc5da07397388e3070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaec6220ab6e03a6420408e6901c58127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#gaaec6220ab6e03a6420408e6901c58127">aos_system_read_cpu_temperature</a> (int16_t *temperature)</td></tr>
<tr class="memdesc:gaaec6220ab6e03a6420408e6901c58127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the CPU temperature.  <a href="group__aos__system.html#gaaec6220ab6e03a6420408e6901c58127">More...</a><br /></td></tr>
<tr class="separator:gaaec6220ab6e03a6420408e6901c58127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f0bb15aa11bbbc30acae723920132fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__system.html#ga2f0bb15aa11bbbc30acae723920132fa">aos_system_clock_resume</a> (void)</td></tr>
<tr class="memdesc:ga2f0bb15aa11bbbc30acae723920132fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart the main clocks after wake up.  <a href="group__aos__system.html#ga2f0bb15aa11bbbc30acae723920132fa">More...</a><br /></td></tr>
<tr class="separator:ga2f0bb15aa11bbbc30acae723920132fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>System management and ISR to background process deferring. </p>
<p>The ISR to background process deferring consists of deferring the ISR processing in a usual RTOS thread. The system thread used for this purpose has the highest priority (7).</p>
<p>Copyright (C) 2022, Abeeway (www.abeeway.com). All Rights Reserved. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
