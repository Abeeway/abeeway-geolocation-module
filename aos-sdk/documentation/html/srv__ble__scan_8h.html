<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Abeeway Geolocation Module SDK: aos-libs/aos-services/src/srv_ble_scan.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Abeeway Geolocation Module SDK
   </div>
   <div id="projectbrief">A FreeRTOS based Software Development Kit for the Abeeway Geolocation Module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bbd625c80d66cf6285b9f7aba4ae7f44.html">aos-libs</a></li><li class="navelem"><a class="el" href="dir_66365b511f659fd25a9385b261199a3f.html">aos-services</a></li><li class="navelem"><a class="el" href="dir_41a8ec6f3fa8e9fad22126429ef51cc5.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">srv_ble_scan.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>BLE scan service.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="aos__common_8h_source.html">aos_common.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for srv_ble_scan.h:</div>
<div class="dyncontent">
<div class="center"><img src="srv__ble__scan_8h__incl.png" border="0" usemap="#aos-libs_2aos-services_2src_2srv__ble__scan_8h" alt=""/></div>
<map name="aos-libs_2aos-services_2src_2srv__ble__scan_8h" id="aos-libs_2aos-services_2src_2srv__ble__scan_8h">
<area shape="rect" id="node2" href="aos__common_8h.html" title="Common definitions. " alt="" coords="23,95,133,121"/>
</map>
</div>
</div>
<p><a href="srv__ble__scan_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__exposure__info__t.html">srv_ble_scan_exposure_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">exposure beacon information fields  <a href="structsrv__ble__scan__exposure__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__ibeacon__info__t.html">srv_ble_scan_ibeacon_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ibeacon beacon information fields.  <a href="structsrv__ble__scan__ibeacon__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__altbeacon__info__t.html">srv_ble_scan_altbeacon_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Altbeacon beacon information fields.  <a href="structsrv__ble__scan__altbeacon__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__eddystone__info__t.html">srv_ble_scan_eddystone_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eddystone beacon information fields.  <a href="structsrv__ble__scan__eddystone__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__custom__info__t.html">srv_ble_scan_custom_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom beacon information field.  <a href="structsrv__ble__scan__custom__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__beacon__info__t.html">srv_ble_scan_beacon_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scanned beacon informations.  <a href="structsrv__ble__scan__beacon__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__result__entry__t.html">srv_ble_scan_result_entry_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single result entry.  <a href="structsrv__ble__scan__result__entry__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__result__t.html">srv_ble_scan_result_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete scan result.  <a href="structsrv__ble__scan__result__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__short__beacon__info__t.html">srv_ble_scan_short_beacon_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Short beacon id information.  <a href="structsrv__ble__scan__short__beacon__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__long__beacon__info__t.html">srv_ble_scan_long_beacon_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Long beacon id information.  <a href="structsrv__ble__scan__long__beacon__info__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__report__t.html">srv_ble_scan_report_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan report. Built from requested filtering (refer to <a class="el" href="structsrv__ble__scan__param__report__t.html" title="Describe what we expect in the report. ">srv_ble_scan_param_report_t</a>)  <a href="structsrv__ble__scan__report__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__param__report__t.html">srv_ble_scan_param_report_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe what we expect in the report.  <a href="structsrv__ble__scan__param__report__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__param__filter__t.html">srv_ble_scan_param_filter_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter to be applied on scanned beacons.  <a href="structsrv__ble__scan__param__filter__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__scan__param__t.html">srv_ble_scan_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BLE scan parameters.  <a href="structsrv__ble__scan__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa2940a24dc4db12c2f243b354717d560"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gaa2940a24dc4db12c2f243b354717d560">SRV_BLE_MAX_SCAN_RESULT</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:gaa2940a24dc4db12c2f243b354717d560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define constants related to BLE scan module.  <a href="group__srv__ble__scan.html#gaa2940a24dc4db12c2f243b354717d560">More...</a><br /></td></tr>
<tr class="separator:gaa2940a24dc4db12c2f243b354717d560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga033a7d5de049ad366e848762e9708947"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga033a7d5de049ad366e848762e9708947">SRV_BLE_SCAN_FILTER_MAX_SIZE</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:ga033a7d5de049ad366e848762e9708947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of a scan filter. <br /></td></tr>
<tr class="separator:ga033a7d5de049ad366e848762e9708947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c7ce290f6aa0da0ce7a4d6bd6d4f27a"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga1c7ce290f6aa0da0ce7a4d6bd6d4f27a">SRV_BLE_SCAN_NB_FILTER_MAX</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga1c7ce290f6aa0da0ce7a4d6bd6d4f27a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of scan filters. <br /></td></tr>
<tr class="separator:ga1c7ce290f6aa0da0ce7a4d6bd6d4f27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca0b08230324aba603eca7c3938af2fb"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gaca0b08230324aba603eca7c3938af2fb">SRV_BLE_MAX_SHORT_BEACON_ID_SIZE</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:gaca0b08230324aba603eca7c3938af2fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of a beacon identifier in the report. Short format. <br /></td></tr>
<tr class="separator:gaca0b08230324aba603eca7c3938af2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c3bb9cd954e1d81741ea70f47ca37fb"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga4c3bb9cd954e1d81741ea70f47ca37fb">SRV_BLE_MAX_LONG_BEACON_ID_SIZE</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:ga4c3bb9cd954e1d81741ea70f47ca37fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of a beacon identifier in the report. Long format. <br /></td></tr>
<tr class="separator:ga4c3bb9cd954e1d81741ea70f47ca37fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga491c2814b4f5c53549b670b89219935c"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga491c2814b4f5c53549b670b89219935c">SRV_BLE_SCAN_SHORT_NB_ENTRY</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:ga491c2814b4f5c53549b670b89219935c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of entries in the report when the short format is used. <br /></td></tr>
<tr class="separator:ga491c2814b4f5c53549b670b89219935c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d8c3f82948f0ba05ff9d5185a94b85d"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga2d8c3f82948f0ba05ff9d5185a94b85d">SRV_BLE_SCAN_LONG_NB_ENTRY</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:ga2d8c3f82948f0ba05ff9d5185a94b85d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of entries in the report when the long format is used. <br /></td></tr>
<tr class="separator:ga2d8c3f82948f0ba05ff9d5185a94b85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47623f7fd4b06bbd3d2e5a72b8ef1007"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga47623f7fd4b06bbd3d2e5a72b8ef1007">SRV_BLE_SCAN_MAX_RAW_DATA</a>&#160;&#160;&#160;24</td></tr>
<tr class="memdesc:ga47623f7fd4b06bbd3d2e5a72b8ef1007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum data size when the custom beacon format is used. <br /></td></tr>
<tr class="separator:ga47623f7fd4b06bbd3d2e5a72b8ef1007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a813502350d3340ca4d9b3c8e89efdb"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga1a813502350d3340ca4d9b3c8e89efdb">SRV_BLE_NB_ADV_CHANNELS</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:ga1a813502350d3340ca4d9b3c8e89efdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of BLE advertisement channels (standard) <br /></td></tr>
<tr class="separator:ga1a813502350d3340ca4d9b3c8e89efdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae38fa80d88a5c61ee80796ab0c5fa00e"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gae38fa80d88a5c61ee80796ab0c5fa00e">SRV_BLE_GAP_ADDR_LEN</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:gae38fa80d88a5c61ee80796ab0c5fa00e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the BLE MAC address. <br /></td></tr>
<tr class="separator:gae38fa80d88a5c61ee80796ab0c5fa00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf077d8795bdc0a7620b5c5655ee9643"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gacf077d8795bdc0a7620b5c5655ee9643">SRV_BLE_EXPOSURE_RPI_LEN</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:gacf077d8795bdc0a7620b5c5655ee9643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the RPI field (exposure beacons) <br /></td></tr>
<tr class="separator:gacf077d8795bdc0a7620b5c5655ee9643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9098b242e2a8ecaba7801d5bce6b9b7d"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga9098b242e2a8ecaba7801d5bce6b9b7d">SRV_BLE_EXPOSURE_METADATA_LEN</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ga9098b242e2a8ecaba7801d5bce6b9b7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the metadata field (exposure beacons) <br /></td></tr>
<tr class="separator:ga9098b242e2a8ecaba7801d5bce6b9b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c40b183013098c32a408c06d418f083"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga7c40b183013098c32a408c06d418f083">SRV_BLE_SCAN_IBEACON_COMPANY_UUID_LEN</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:ga7c40b183013098c32a408c06d418f083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the company identifier (iBeacons beacons) <br /></td></tr>
<tr class="separator:ga7c40b183013098c32a408c06d418f083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ac27702b5f3e94363308f417c03cb7f"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga5ac27702b5f3e94363308f417c03cb7f">SRV_BLE_SCAN_ALTBEACON_MANUF_ID_LEN</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga5ac27702b5f3e94363308f417c03cb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manufacturer Identifier length. <br /></td></tr>
<tr class="separator:ga5ac27702b5f3e94363308f417c03cb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeda46f9b9d1c2e2625a78866c0b1307a"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gaeda46f9b9d1c2e2625a78866c0b1307a">SRV_BLE_SCAN_ALTBEACON_BEACON_ID_LEN</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:gaeda46f9b9d1c2e2625a78866c0b1307a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Beacon identifier. <br /></td></tr>
<tr class="separator:gaeda46f9b9d1c2e2625a78866c0b1307a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f75b77a2b96aafe7c37f1cb69276571"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga4f75b77a2b96aafe7c37f1cb69276571">SRV_BLE_SCAN_EDDYSTONE_RAW_DATA_LEN</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:ga4f75b77a2b96aafe7c37f1cb69276571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eddystone information length in raw format. <br /></td></tr>
<tr class="separator:ga4f75b77a2b96aafe7c37f1cb69276571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbff3291b0682c662ba03cc59a9b57ae"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gabbff3291b0682c662ba03cc59a9b57ae">SRV_BLE_SCAN_EDDYSTONE_UUID_NAME_SPACE_LEN</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:gabbff3291b0682c662ba03cc59a9b57ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eddystone UUID. name space field length. <br /></td></tr>
<tr class="separator:gabbff3291b0682c662ba03cc59a9b57ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga507c846f903cb2d6066d3bb9115610fc"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga507c846f903cb2d6066d3bb9115610fc">SRV_BLE_SCAN_EDDYSTONE_UUID_INSTANCE_LEN</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:ga507c846f903cb2d6066d3bb9115610fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eddystone UUID.instance field length. <br /></td></tr>
<tr class="separator:ga507c846f903cb2d6066d3bb9115610fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae21e4ebf7a1c34c47d0e438627af52d2"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gae21e4ebf7a1c34c47d0e438627af52d2">SRV_BLE_SCAN_EDDYSTONE_URL_ENC_LEN</a>&#160;&#160;&#160;17</td></tr>
<tr class="memdesc:gae21e4ebf7a1c34c47d0e438627af52d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eddystone URL. Encoded URL length. <br /></td></tr>
<tr class="separator:gae21e4ebf7a1c34c47d0e438627af52d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gab69b1a2d8366758d6c3f1365e22a3340"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gab69b1a2d8366758d6c3f1365e22a3340">srv_ble_scan_callback_t</a>(void *user_arg, <a class="el" href="structsrv__ble__scan__result__t.html">srv_ble_scan_result_t</a> *result, <a class="el" href="structsrv__ble__scan__report__t.html">srv_ble_scan_report_t</a> *report)</td></tr>
<tr class="memdesc:gab69b1a2d8366758d6c3f1365e22a3340"><td class="mdescLeft">&#160;</td><td class="mdescRight">User callback called at the end of each scans.  <a href="group__srv__ble__scan.html#gab69b1a2d8366758d6c3f1365e22a3340">More...</a><br /></td></tr>
<tr class="separator:gab69b1a2d8366758d6c3f1365e22a3340"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga541801f9d734c70e5fd457facd36db92"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga541801f9d734c70e5fd457facd36db92">srv_ble_scan_eddystone_type_t</a> { <br />
&#160;&#160;<a class="el" href="group__srv__ble__scan.html#gga541801f9d734c70e5fd457facd36db92a29c775c59803f0c0230a003cf637d44a">srv_ble_scan_eddystone_type_uid</a> = 0x00, 
<a class="el" href="group__srv__ble__scan.html#gga541801f9d734c70e5fd457facd36db92a91fb3d5ec08a652df72600ecac3242f6">srv_ble_scan_eddystone_type_url</a> = 0x10, 
<a class="el" href="group__srv__ble__scan.html#gga541801f9d734c70e5fd457facd36db92a48137b920a381e34a4024c2b123b3ede">srv_ble_scan_eddystone_type_tlm</a> = 0x20, 
<a class="el" href="group__srv__ble__scan.html#gga541801f9d734c70e5fd457facd36db92a8889ae087db4edff149d415ddc4164c3">srv_ble_scan_eddystone_type_eid</a> = 0x30, 
<br />
&#160;&#160;<a class="el" href="group__srv__ble__scan.html#gga541801f9d734c70e5fd457facd36db92a573924f3c42fa97df07e9099a93e7e54">srv_ble_scan_eddystone_type_unknown</a> = 0xFF
<br />
 }<tr class="memdesc:ga541801f9d734c70e5fd457facd36db92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eddystone beacon types.  <a href="group__srv__ble__scan.html#ga541801f9d734c70e5fd457facd36db92">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga541801f9d734c70e5fd457facd36db92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c41252284ef577848739f4c3249a23e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga8c41252284ef577848739f4c3249a23e">srv_ble_scan_beacon_type_t</a> { <br />
&#160;&#160;<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea6be787610da4fc01eaec28fb7f6f7264">srv_ble_scan_beacon_type_all</a> = 0, 
<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea7119193445fe79e750f5b084219dee6a">srv_ble_scan_beacon_type_eddy_uid</a> = 1, 
<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea75e4cf78af638aba5017b8698a1dfb5e">srv_ble_scan_beacon_type_eddy_url</a> = 2, 
<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea54e3b3c74a843cf4dc0858af3a69d9e7">srv_ble_scan_beacon_type_eddy_all</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea30e39534f062dcf3b56e86fa5df7aaa5">srv_ble_scan_beacon_type_ibeacon</a> = 4, 
<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea04568b3c35b99704500bbeb50f5d6200">srv_ble_scan_beacon_type_altbeacon</a> = 5, 
<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23eadb93f8110102847ad997ba3d4c6b09a5">srv_ble_scan_beacon_type_custom</a> = 6, 
<a class="el" href="group__srv__ble__scan.html#gga8c41252284ef577848739f4c3249a23ea11ed7cf1c3a902c3891722d1abed6584">srv_ble_scan_beacon_type_exposure</a> = 7
<br />
 }<tr class="memdesc:ga8c41252284ef577848739f4c3249a23e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of beacons to filter-out or type of beacons in the result structure.  <a href="group__srv__ble__scan.html#ga8c41252284ef577848739f4c3249a23e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga8c41252284ef577848739f4c3249a23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d0f1b62ff20e6768a494af1b85acabc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga0d0f1b62ff20e6768a494af1b85acabc">srv_ble_scan_report_type_t</a> { <a class="el" href="group__srv__ble__scan.html#gga0d0f1b62ff20e6768a494af1b85acabca39d9ebd082fb0fb3a75ed1fc0e5420a5">srv_ble_scan_report_type_mac_address</a>, 
<a class="el" href="group__srv__ble__scan.html#gga0d0f1b62ff20e6768a494af1b85acabca5dc2860c0c5603b4bbe3db3976b959ba">srv_ble_scan_report_type_short_id</a>, 
<a class="el" href="group__srv__ble__scan.html#gga0d0f1b62ff20e6768a494af1b85acabca96ead5ddd50fff8a652af1909575f956">srv_ble_scan_report_type_long_id</a>
 }<tr class="memdesc:ga0d0f1b62ff20e6768a494af1b85acabc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Beacon address/identifier type to be reported.  <a href="group__srv__ble__scan.html#ga0d0f1b62ff20e6768a494af1b85acabc">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga0d0f1b62ff20e6768a494af1b85acabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0e96a900d5910a80dc679be81b356904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga0e96a900d5910a80dc679be81b356904">srv_ble_scan_is_active</a> (void)</td></tr>
<tr class="memdesc:ga0e96a900d5910a80dc679be81b356904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate whether the BLE scan is active.  <a href="group__srv__ble__scan.html#ga0e96a900d5910a80dc679be81b356904">More...</a><br /></td></tr>
<tr class="separator:ga0e96a900d5910a80dc679be81b356904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3355ce7f50433e33e8dd065bef16932"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gae3355ce7f50433e33e8dd065bef16932">srv_ble_scan_start</a> (<a class="el" href="group__srv__ble__scan.html#gab69b1a2d8366758d6c3f1365e22a3340">srv_ble_scan_callback_t</a> *callback, void *arg)</td></tr>
<tr class="memdesc:gae3355ce7f50433e33e8dd065bef16932"><td class="mdescLeft">&#160;</td><td class="mdescRight">start a scan based on the configured parameters  <a href="group__srv__ble__scan.html#gae3355ce7f50433e33e8dd065bef16932">More...</a><br /></td></tr>
<tr class="separator:gae3355ce7f50433e33e8dd065bef16932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58de2391bc9e3c849373b5979c0b1341"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga58de2391bc9e3c849373b5979c0b1341">srv_ble_scan_stop</a> (void)</td></tr>
<tr class="memdesc:ga58de2391bc9e3c849373b5979c0b1341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop scan procedure. <br /></td></tr>
<tr class="separator:ga58de2391bc9e3c849373b5979c0b1341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff08b03b79692d1b5ae51d9c70aa3085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsrv__ble__scan__param__t.html">srv_ble_scan_param_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gaff08b03b79692d1b5ae51d9c70aa3085">srv_ble_scan_get_params</a> (void)</td></tr>
<tr class="memdesc:gaff08b03b79692d1b5ae51d9c70aa3085"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the scan parameters.  <a href="group__srv__ble__scan.html#gaff08b03b79692d1b5ae51d9c70aa3085">More...</a><br /></td></tr>
<tr class="separator:gaff08b03b79692d1b5ae51d9c70aa3085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56700a70c33ff5d0afe76efd70de1b8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsrv__ble__scan__result__t.html">srv_ble_scan_result_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga56700a70c33ff5d0afe76efd70de1b8d">srv_ble_scan_get_result</a> (void)</td></tr>
<tr class="memdesc:ga56700a70c33ff5d0afe76efd70de1b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve the scan parameters  <a href="group__srv__ble__scan.html#ga56700a70c33ff5d0afe76efd70de1b8d">More...</a><br /></td></tr>
<tr class="separator:ga56700a70c33ff5d0afe76efd70de1b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c0e0baa877a78de2913db517ced35ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsrv__ble__scan__report__t.html">srv_ble_scan_report_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga8c0e0baa877a78de2913db517ced35ec">srv_ble_scan_get_report</a> (void)</td></tr>
<tr class="memdesc:ga8c0e0baa877a78de2913db517ced35ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve the scan report  <a href="group__srv__ble__scan.html#ga8c0e0baa877a78de2913db517ced35ec">More...</a><br /></td></tr>
<tr class="separator:ga8c0e0baa877a78de2913db517ced35ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1359c8d78d575c16300e8e6f00c8f151"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#ga1359c8d78d575c16300e8e6f00c8f151">srv_ble_scan_beacon_type_to_str</a> (<a class="el" href="group__srv__ble__scan.html#ga8c41252284ef577848739f4c3249a23e">srv_ble_scan_beacon_type_t</a> type)</td></tr>
<tr class="memdesc:ga1359c8d78d575c16300e8e6f00c8f151"><td class="mdescLeft">&#160;</td><td class="mdescRight">return beacon type name in string format  <a href="group__srv__ble__scan.html#ga1359c8d78d575c16300e8e6f00c8f151">More...</a><br /></td></tr>
<tr class="separator:ga1359c8d78d575c16300e8e6f00c8f151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb9822b8b5d1a757dbf2c3669ea3727f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__scan.html#gaeb9822b8b5d1a757dbf2c3669ea3727f">srv_ble_scan_report_type_to_str</a> (<a class="el" href="group__srv__ble__scan.html#ga0d0f1b62ff20e6768a494af1b85acabc">srv_ble_scan_report_type_t</a> type)</td></tr>
<tr class="memdesc:gaeb9822b8b5d1a757dbf2c3669ea3727f"><td class="mdescLeft">&#160;</td><td class="mdescRight">return scan report type name in string format  <a href="group__srv__ble__scan.html#gaeb9822b8b5d1a757dbf2c3669ea3727f">More...</a><br /></td></tr>
<tr class="separator:gaeb9822b8b5d1a757dbf2c3669ea3727f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>BLE scan service. </p>
<p>This service performs BLE beacon scans.<br />
</p>
<dl class="section warning"><dt>Warning</dt><dd>Before using this service, the BLE driver should be opened as observer only or observer and peripheral.</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>(C) 2022, Abeeway (www.abeeway.com). All Rights Reserved.</dd></dl>
<p><br />
</p>
<h3>Service usage</h3>
<div> Basically the service performs a beacon scan based on filters. Once the scan is done, a user callback is triggered with the result and a report.<br />
 Both the result and the reports contain the list of observed beacons matching the filtering criteria. The difference comes from the provided data: <ul>
<li>
The result handles the information contained in the beacon advertisement part according to the beacon type.  </li>
<li>
The report contains only information requested by the user. For example, the user can be interested by the beacon identifiers<br />
 (carried inside the advertised data) instead of the MAC addresses.<br />
 Refer to the srv_ble_scan_report_type_t structure for more details.  </li>
</ul>
The scan operation is started via the call to the srv_ble_scan_start function, for which a user callback should be provided.<br />
 The user argument is optional.<br />
 The scan operation can be aborted at any time by calling the function srv_ble_scan_stop.<br />
 </div><h3>Filtering</h3>
<div> Before starting a scan, it is recommended to configure it. This is done by calling the function srv_ble_scan_get_params and modify the parameters. <br />
 SRV uses an enhanced filtering scheme depending on the beacons type to filter. The beacon type, listed by the enumerated srv_ble_scan_beacon_type_t, can be: <ul>
<li>
srv_ble_scan_beacon_type_all: All beacon types are accepted. The filters cannot be applied and the report can handle only MAC addresses.  </li>
<li>
srv_ble_scan_beacon_type_eddy_uid: Only Eddystone UUID beacons are accepted. The filters can be applied and the report can handle any type of information (beacon identifier or MAC addresses)  </li>
<li>
srv_ble_scan_beacon_type_eddy_url: Only Eddystone URL beacons are accepted. The filters can be applied and the report can handle any type of information (beacon identifier or MAC addresses)  </li>
<li>
srv_ble_scan_beacon_type_eddy_all: All Eddystone beacons (UUID/URL/TLM/EID) are accepted. The filters cannot be applied and the report can handle only MAC addresses.  </li>
<li>
srv_ble_scan_beacon_type_ibeacon: Only iBeacons are accepted. The filters can be applied and the report can handle any type of information (beacon identifier or MAC addresses)  </li>
<li>
srv_ble_scan_beacon_type_altbeacon: Only altBeacons are accepted. The filters can be applied and the report can handle any type of information (beacon identifier or MAC addresses)  </li>
<li>
srv_ble_scan_beacon_type_custom: The filters must be configured. Beacons matching the filter are accepted. The report can handle any type of information (beacon identifier or MAC addresses)  </li>
<li>
srv_ble_scan_beacon_type_exposure: Only exposure advertisements are accepted. The filters cannot be applied and the report can handle only MAC addresses.  </li>
</ul>
The scan configuration contains two filters. Each filter contains a 10 bytes mask and value. It also defines a start offset from which the filter should applied.<br />
 The filtering principle is straight forward: The filter mask is applied (logical AND) on the advertised data and compared to the value.<br />
 If the filter matches (comparison success), the beacon is kept otherwise it is discarded.<br />
 The start offset is the offset starting from the beginning of the advertisement data part. </div><h3>Result vs report</h3>
<div> Once the scan is done, two structures are provided. Both contains beacons entries stored after filtering: <ul>
<li>
<a class="el" href="structsrv__ble__scan__result__t.html" title="Complete scan result. ">srv_ble_scan_result_t</a>: Each entry contains the full beacon information. The entry format is based on the beacon type. The structure content is fixed and cannot be tuned.  </li>
<li>
<a class="el" href="structsrv__ble__scan__report__t.html" title="Scan report. Built from requested filtering (refer to srv_ble_scan_param_report_t) ...">srv_ble_scan_report_t</a>: Each entry contains the relevant part of the beacon information. It is customizable via the <a class="el" href="structsrv__ble__scan__param__report__t.html" title="Describe what we expect in the report. ">srv_ble_scan_param_report_t</a> structure. <br />
 you can decide about the number of entry you want and the type of identifier: <ul>
<li>
srv_ble_scan_report_type_mac_address: The entries contain the MAC address in the identifier field. The short form is used in this case and the start_o  </li>
<li>
srv_ble_scan_report_type_short_id: The identifier field of an entry contains 6 bytes starting from the configured start_id_offset.  </li>
<li>
srv_ble_scan_report_type_long_id: The identifier field of an entry contains 16 bytes starting from the configured start_id_offset.<br />
 Such a type is usually configured to do BLE finger printing.  </li>
</ul>
</li>
</ul>
Note that the start_id_offset does not start from the beginning of the advertisement frame. Instead it is related to the type of beacons: <ul>
<li>
Eddystone beacons: start_id_offset = 0 locates the data part of the advertisement frame.  </li>
<li>
iBeacons: start_id_offset = 0 locates the manufacturing UUID field of the advertisement frame.  </li>
<li>
altBeacons: start_id_offset = 0 locates the beacon ID field of the advertisement frame.  </li>
<li>
exposure: start_id_offset = 0 locates the RPI field of the advertisement frame.  </li>
<li>
custom: start_id_offset = 0 locates the beginning of the advertisement frame.  </li>
</ul>
</div><h3>Scan configuration</h3>
<div> The scan is configured using the structure <a class="el" href="structsrv__ble__scan__param__t.html" title="BLE scan parameters. ">srv_ble_scan_param_t</a>. This structure should be retrieved and manipulated before starting a scan.<br />
 It is strongly discouraged to change the structure while a scan is in progress. <br />
 The overall scan duration is configured via the scan_duration parameter. At the end of this duration, the user callback will be triggered.<br />
 The scan_window and scan_interval reflects the standard BLE parameters: <ul>
<li>
The window defines the actual scan duration for a given channel.  </li>
<li>
The interval defines the actual scan duration for given channel and the delay to switch to the next channel. It is always greater than window.  </li>
</ul>
The repeat_delay parameter defines the period of complete scans. If the user expects a single scan, this parameter should be set to 0.<br />
 If the user expects periodic scans, this parameter should contains the period (delay between each scans).<br />
 The configuration structure contains the filter, the report parameters and the type of beacons we consider.<br />
 The field rssi_threshold provides an extra filtering based on the RSSI level. Beacons with a RSSI below this threshold are discarded.<br />
 Finally, the configuration a fine tuning of the advertised channels via the parameter adv_compensation. It may be used in the case where the<br />
 BLE antenna has not the same gain on all advertisement channel frequencies. </div> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
