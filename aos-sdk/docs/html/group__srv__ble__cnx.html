<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Abeeway Geolocation Module SDK: BLE connectivity service</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Abeeway Geolocation Module SDK
   </div>
   <div id="projectbrief">A FreeRTOS based Software Development Kit for the Abeeway Geolocation Module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BLE connectivity service</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__connectivity__conn__params__t.html">srv_ble_connectivity_conn_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection parameters structure.  <a href="structsrv__ble__connectivity__conn__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsrv__ble__conn__adv__config__t.html">srv_ble_conn_adv_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advertising configuration structure.  <a href="structsrv__ble__conn__adv__config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga68c90ed9dbb705636f98987f3798148f"><td class="memItemLeft" align="right" valign="top"><a id="ga68c90ed9dbb705636f98987f3798148f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga68c90ed9dbb705636f98987f3798148f">CONNECTION_HANDLE_NOT_IN_CONNECTION</a>&#160;&#160;&#160;0xFFFF</td></tr>
<tr class="memdesc:ga68c90ed9dbb705636f98987f3798148f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define value of connection handle when not connected. <br /></td></tr>
<tr class="separator:ga68c90ed9dbb705636f98987f3798148f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea82f73ec0f1f8893b60a6a65d3c585d"><td class="memItemLeft" align="right" valign="top"><a id="gaea82f73ec0f1f8893b60a6a65d3c585d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gaea82f73ec0f1f8893b60a6a65d3c585d">LOCAL_NAME_MAX_SIZE</a>&#160;&#160;&#160;(27)</td></tr>
<tr class="memdesc:gaea82f73ec0f1f8893b60a6a65d3c585d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of local name in advertising packet(31-3 for flag - 1 for local name len) <br /></td></tr>
<tr class="separator:gaea82f73ec0f1f8893b60a6a65d3c585d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab37573e85eba87d8fb02c4139b3911c"><td class="memItemLeft" align="right" valign="top"><a id="gaab37573e85eba87d8fb02c4139b3911c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gaab37573e85eba87d8fb02c4139b3911c">SCAN_RESP_DATA_MAX_SIZE</a>&#160;&#160;&#160;(31)</td></tr>
<tr class="memdesc:gaab37573e85eba87d8fb02c4139b3911c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of scan response data. <br /></td></tr>
<tr class="separator:gaab37573e85eba87d8fb02c4139b3911c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad1c9083b6c135984432c5306874c8ee0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gad1c9083b6c135984432c5306874c8ee0">srv_ble_conn_event_t</a> { <a class="el" href="group__srv__ble__cnx.html#ggad1c9083b6c135984432c5306874c8ee0a298f228e0e9da8c14551ead77c85767c">srv_ble_conn_event_idle</a>, 
<a class="el" href="group__srv__ble__cnx.html#ggad1c9083b6c135984432c5306874c8ee0ac922a7d8d6ff11e74558f8fb004344f1">srv_ble_conn_event_advertise</a>, 
<a class="el" href="group__srv__ble__cnx.html#ggad1c9083b6c135984432c5306874c8ee0a96138ee47ec90309dd4ae522c18d05eb">srv_ble_conn_event_connection</a>, 
<a class="el" href="group__srv__ble__cnx.html#ggad1c9083b6c135984432c5306874c8ee0a67d1e5cd101f3fc94cddd3d9d2cc84bc">srv_ble_conn_event_bonded</a>
 }</td></tr>
<tr class="memdesc:gad1c9083b6c135984432c5306874c8ee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">BLE connection events.  <a href="group__srv__ble__cnx.html#gad1c9083b6c135984432c5306874c8ee0">More...</a><br /></td></tr>
<tr class="separator:gad1c9083b6c135984432c5306874c8ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa55ccd71554623326a84b6a65df551f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gaaa55ccd71554623326a84b6a65df551f">srv_ble_connectivity_status_t</a> { <a class="el" href="group__srv__ble__cnx.html#ggaaa55ccd71554623326a84b6a65df551fa7b30a59975378357d6e408ff33e28d23">srv_ble_connectivity_idle</a>, 
<a class="el" href="group__srv__ble__cnx.html#ggaaa55ccd71554623326a84b6a65df551fa68ac22730c74d5a8fdf2673ee5d9e677">srv_ble_connectivity_advertising</a>, 
<a class="el" href="group__srv__ble__cnx.html#ggaaa55ccd71554623326a84b6a65df551fa36c944128139c27c987b14d8267ad444">srv_ble_connectivity_connected_server</a>, 
<a class="el" href="group__srv__ble__cnx.html#ggaaa55ccd71554623326a84b6a65df551faf9654659dc668db855a206ee104a9a79">srv_ble_connectivity_connected_bonded</a>
 }</td></tr>
<tr class="memdesc:gaaa55ccd71554623326a84b6a65df551f"><td class="mdescLeft">&#160;</td><td class="mdescRight">BLE connection state.  <a href="group__srv__ble__cnx.html#gaaa55ccd71554623326a84b6a65df551f">More...</a><br /></td></tr>
<tr class="separator:gaaa55ccd71554623326a84b6a65df551f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6279d7da93ae342fff1775a5c3c19952"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga6279d7da93ae342fff1775a5c3c19952">srv_ble_connectivity_start</a> (<a class="el" href="structsrv__ble__conn__adv__config__t.html">srv_ble_conn_adv_config_t</a> *conf)</td></tr>
<tr class="memdesc:ga6279d7da93ae342fff1775a5c3c19952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the advertisement for connectivity.  <a href="group__srv__ble__cnx.html#ga6279d7da93ae342fff1775a5c3c19952">More...</a><br /></td></tr>
<tr class="separator:ga6279d7da93ae342fff1775a5c3c19952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae51118d909c5891bc4fc83bdbece71b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gae51118d909c5891bc4fc83bdbece71b4">srv_ble_connectivity_stop</a> (void)</td></tr>
<tr class="memdesc:gae51118d909c5891bc4fc83bdbece71b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the advertisement for connectivity.  <a href="group__srv__ble__cnx.html#gae51118d909c5891bc4fc83bdbece71b4">More...</a><br /></td></tr>
<tr class="separator:gae51118d909c5891bc4fc83bdbece71b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31c3c228d4a8399495dac4c7d77dff59"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga31c3c228d4a8399495dac4c7d77dff59">srv_ble_connectivity_get_power_consumption</a> (void)</td></tr>
<tr class="memdesc:ga31c3c228d4a8399495dac4c7d77dff59"><td class="mdescLeft">&#160;</td><td class="mdescRight">return connectivity power consumption.  <a href="group__srv__ble__cnx.html#ga31c3c228d4a8399495dac4c7d77dff59">More...</a><br /></td></tr>
<tr class="separator:ga31c3c228d4a8399495dac4c7d77dff59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaca1d71473cd4ff786ef2a54f2c6525"><td class="memItemLeft" align="right" valign="top"><a id="gabaca1d71473cd4ff786ef2a54f2c6525"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gabaca1d71473cd4ff786ef2a54f2c6525">srv_ble_connectivity_clear_consumption</a> (void)</td></tr>
<tr class="memdesc:gabaca1d71473cd4ff786ef2a54f2c6525"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset the connectivity power consumption. <br /></td></tr>
<tr class="separator:gabaca1d71473cd4ff786ef2a54f2c6525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53ef6bda628b5cbb6d2691a4dafcdafb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga53ef6bda628b5cbb6d2691a4dafcdafb">srv_ble_connectivity_do_restart</a> (void)</td></tr>
<tr class="memdesc:ga53ef6bda628b5cbb6d2691a4dafcdafb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we have to restart connectivity. To completely stop connectivity the user should call <a class="el" href="group__srv__ble__cnx.html#gae51118d909c5891bc4fc83bdbece71b4" title="Stop the advertisement for connectivity.">srv_ble_connectivity_stop()</a>, but if connectivity is stopped because of an error (like when getting error when restarting connectivity advertising while beaconing is ON) the application should call this API to check if the connectivity advertising should be restarted.  <a href="group__srv__ble__cnx.html#ga53ef6bda628b5cbb6d2691a4dafcdafb">More...</a><br /></td></tr>
<tr class="separator:ga53ef6bda628b5cbb6d2691a4dafcdafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0021d3d4d9a37da215cc0f7fa4a7b85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gad0021d3d4d9a37da215cc0f7fa4a7b85">srv_ble_connectivity_disconnect</a> (uint8_t reason)</td></tr>
<tr class="memdesc:gad0021d3d4d9a37da215cc0f7fa4a7b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect connection identified with connection_handle and send the disconnection reason as specified in reason.  <a href="group__srv__ble__cnx.html#gad0021d3d4d9a37da215cc0f7fa4a7b85">More...</a><br /></td></tr>
<tr class="separator:gad0021d3d4d9a37da215cc0f7fa4a7b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7ebbc9d26d483c0a75eadb31405edf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gab7ebbc9d26d483c0a75eadb31405edf4">srv_ble_connectivity_stop_advertising</a> (void)</td></tr>
<tr class="memdesc:gab7ebbc9d26d483c0a75eadb31405edf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop connectivity advertising.  <a href="group__srv__ble__cnx.html#gab7ebbc9d26d483c0a75eadb31405edf4">More...</a><br /></td></tr>
<tr class="separator:gab7ebbc9d26d483c0a75eadb31405edf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae69fcc5ac3b6a47ad0a80fc2e4e45b70"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gae69fcc5ac3b6a47ad0a80fc2e4e45b70">srv_ble_connectivity_check_device_in_whitelist</a> (uint8_t *bond_count, uint8_t mac_addr[<a class="el" href="group__aos__ble__common.html#ga311bb8865a6f83c96b91802febf99a7e">BLE_MAC_ADDR_SIZE</a>], uint8_t addr_type)</td></tr>
<tr class="memdesc:gae69fcc5ac3b6a47ad0a80fc2e4e45b70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the device with BLE address and addr_type are in the white list,.  <a href="group__srv__ble__cnx.html#gae69fcc5ac3b6a47ad0a80fc2e4e45b70">More...</a><br /></td></tr>
<tr class="separator:gae69fcc5ac3b6a47ad0a80fc2e4e45b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdb0d6e6c4e7950d032b3295431fc2f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gafdb0d6e6c4e7950d032b3295431fc2f9">srv_ble_connectivity_add_bonded_to_whitelist</a> (void)</td></tr>
<tr class="memdesc:gafdb0d6e6c4e7950d032b3295431fc2f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the device actually connected and bonded to the whitelist,.  <a href="group__srv__ble__cnx.html#gafdb0d6e6c4e7950d032b3295431fc2f9">More...</a><br /></td></tr>
<tr class="separator:gafdb0d6e6c4e7950d032b3295431fc2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed9425b10d7429b1dcb5f88f70119acd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gaed9425b10d7429b1dcb5f88f70119acd">srv_ble_connectivity_remove_bond</a> (void)</td></tr>
<tr class="memdesc:gaed9425b10d7429b1dcb5f88f70119acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function remove all bonded devices, it doesn't disconnect the device if connected.  <a href="group__srv__ble__cnx.html#gaed9425b10d7429b1dcb5f88f70119acd">More...</a><br /></td></tr>
<tr class="separator:gaed9425b10d7429b1dcb5f88f70119acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffdf4f730a42f12d6f4421e7297b54c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gaffdf4f730a42f12d6f4421e7297b54c9">srv_ble_connectivity_conn_parameters_update_req</a> (<a class="el" href="structsrv__ble__connectivity__conn__params__t.html">srv_ble_connectivity_conn_params_t</a> new_conn_params)</td></tr>
<tr class="memdesc:gaffdf4f730a42f12d6f4421e7297b54c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update BLE connection parameters,.  <a href="group__srv__ble__cnx.html#gaffdf4f730a42f12d6f4421e7297b54c9">More...</a><br /></td></tr>
<tr class="separator:gaffdf4f730a42f12d6f4421e7297b54c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c0e6fd4231a1b2ff2774a66dc9d7258"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga6c0e6fd4231a1b2ff2774a66dc9d7258">srv_ble_connectivity_get_bond_count</a> (void)</td></tr>
<tr class="memdesc:ga6c0e6fd4231a1b2ff2774a66dc9d7258"><td class="mdescLeft">&#160;</td><td class="mdescRight">return number of client bonded to the device,  <a href="group__srv__ble__cnx.html#ga6c0e6fd4231a1b2ff2774a66dc9d7258">More...</a><br /></td></tr>
<tr class="separator:ga6c0e6fd4231a1b2ff2774a66dc9d7258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga943457618d36d727085547b9173557c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__srv__ble__cnx.html#gaaa55ccd71554623326a84b6a65df551f">srv_ble_connectivity_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga943457618d36d727085547b9173557c4">srv_ble_connectivity_get_connection_status</a> (void)</td></tr>
<tr class="memdesc:ga943457618d36d727085547b9173557c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get BLE connection status.  <a href="group__srv__ble__cnx.html#ga943457618d36d727085547b9173557c4">More...</a><br /></td></tr>
<tr class="separator:ga943457618d36d727085547b9173557c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedd93aaf113c2cc61eaee020af1c34dd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#gaedd93aaf113c2cc61eaee020af1c34dd">srv_ble_connectivity_get_connection_handle</a> (void)</td></tr>
<tr class="memdesc:gaedd93aaf113c2cc61eaee020af1c34dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return connection handle for the actual connection,.  <a href="group__srv__ble__cnx.html#gaedd93aaf113c2cc61eaee020af1c34dd">More...</a><br /></td></tr>
<tr class="separator:gaedd93aaf113c2cc61eaee020af1c34dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b0441d183b5aefb16bd459cffc465d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__srv__ble__cnx.html#ga5b0441d183b5aefb16bd459cffc465d0">srv_ble_connectivity_init_ble_services</a> (<a class="el" href="structaos__ble__app__data__t.html">aos_ble_app_data_t</a> *app_info)</td></tr>
<tr class="memdesc:ga5b0441d183b5aefb16bd459cffc465d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize BLE services (standard and custom BLE services),.  <a href="group__srv__ble__cnx.html#ga5b0441d183b5aefb16bd459cffc465d0">More...</a><br /></td></tr>
<tr class="separator:ga5b0441d183b5aefb16bd459cffc465d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gad1c9083b6c135984432c5306874c8ee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1c9083b6c135984432c5306874c8ee0">&#9670;&nbsp;</a></span>srv_ble_conn_event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__srv__ble__cnx.html#gad1c9083b6c135984432c5306874c8ee0">srv_ble_conn_event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BLE connection events. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggad1c9083b6c135984432c5306874c8ee0a298f228e0e9da8c14551ead77c85767c"></a>srv_ble_conn_event_idle&#160;</td><td class="fielddoc"><p>BLE connectivity in idle state. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad1c9083b6c135984432c5306874c8ee0ac922a7d8d6ff11e74558f8fb004344f1"></a>srv_ble_conn_event_advertise&#160;</td><td class="fielddoc"><p>BLE connectivity in fast advertisement state. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad1c9083b6c135984432c5306874c8ee0a96138ee47ec90309dd4ae522c18d05eb"></a>srv_ble_conn_event_connection&#160;</td><td class="fielddoc"><p>BLE connected to a central device. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggad1c9083b6c135984432c5306874c8ee0a67d1e5cd101f3fc94cddd3d9d2cc84bc"></a>srv_ble_conn_event_bonded&#160;</td><td class="fielddoc"><p>BLE connected and bonded to a central device. </p>
</td></tr>
</table>

</div>
</div>
<a id="gaaa55ccd71554623326a84b6a65df551f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa55ccd71554623326a84b6a65df551f">&#9670;&nbsp;</a></span>srv_ble_connectivity_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__srv__ble__cnx.html#gaaa55ccd71554623326a84b6a65df551f">srv_ble_connectivity_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BLE connection state. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaaa55ccd71554623326a84b6a65df551fa7b30a59975378357d6e408ff33e28d23"></a>srv_ble_connectivity_idle&#160;</td><td class="fielddoc"><p>BLE in idle state. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaaa55ccd71554623326a84b6a65df551fa68ac22730c74d5a8fdf2673ee5d9e677"></a>srv_ble_connectivity_advertising&#160;</td><td class="fielddoc"><p>BLE in fast advertisement state. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaaa55ccd71554623326a84b6a65df551fa36c944128139c27c987b14d8267ad444"></a>srv_ble_connectivity_connected_server&#160;</td><td class="fielddoc"><p>BLE connected as server. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaaa55ccd71554623326a84b6a65df551faf9654659dc668db855a206ee104a9a79"></a>srv_ble_connectivity_connected_bonded&#160;</td><td class="fielddoc"><p>BLE connected as client. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafdb0d6e6c4e7950d032b3295431fc2f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdb0d6e6c4e7950d032b3295431fc2f9">&#9670;&nbsp;</a></span>srv_ble_connectivity_add_bonded_to_whitelist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool srv_ble_connectivity_add_bonded_to_whitelist </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the device actually connected and bonded to the whitelist,. </p>
<dl class="section return"><dt>Returns</dt><dd>true if success, false if fail </dd></dl>

</div>
</div>
<a id="gae69fcc5ac3b6a47ad0a80fc2e4e45b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae69fcc5ac3b6a47ad0a80fc2e4e45b70">&#9670;&nbsp;</a></span>srv_ble_connectivity_check_device_in_whitelist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool srv_ble_connectivity_check_device_in_whitelist </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bond_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mac_addr</em>[BLE_MAC_ADDR_SIZE], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addr_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the device with BLE address and addr_type are in the white list,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bond_count</td><td>output the number of bonded devices </td></tr>
    <tr><td class="paramname">mac_addr</td><td>the MAC address to check </td></tr>
    <tr><td class="paramname">addr_type</td><td>the address type of mac_addr</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if in the white list, false if not </dd></dl>

</div>
</div>
<a id="gaffdf4f730a42f12d6f4421e7297b54c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffdf4f730a42f12d6f4421e7297b54c9">&#9670;&nbsp;</a></span>srv_ble_connectivity_conn_parameters_update_req()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a> srv_ble_connectivity_conn_parameters_update_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsrv__ble__connectivity__conn__params__t.html">srv_ble_connectivity_conn_params_t</a>&#160;</td>
          <td class="paramname"><em>new_conn_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update BLE connection parameters,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_conn_params</td><td>connection parameters to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>aos_result_t error status </dd></dl>

</div>
</div>
<a id="gad0021d3d4d9a37da215cc0f7fa4a7b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad0021d3d4d9a37da215cc0f7fa4a7b85">&#9670;&nbsp;</a></span>srv_ble_connectivity_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a> srv_ble_connectivity_disconnect </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect connection identified with connection_handle and send the disconnection reason as specified in reason. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reason</td><td>The disconnection reason</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status result of the operation </dd></dl>

</div>
</div>
<a id="ga53ef6bda628b5cbb6d2691a4dafcdafb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53ef6bda628b5cbb6d2691a4dafcdafb">&#9670;&nbsp;</a></span>srv_ble_connectivity_do_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool srv_ble_connectivity_do_restart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if we have to restart connectivity. To completely stop connectivity the user should call <a class="el" href="group__srv__ble__cnx.html#gae51118d909c5891bc4fc83bdbece71b4" title="Stop the advertisement for connectivity.">srv_ble_connectivity_stop()</a>, but if connectivity is stopped because of an error (like when getting error when restarting connectivity advertising while beaconing is ON) the application should call this API to check if the connectivity advertising should be restarted. </p>
<dl class="section return"><dt>Returns</dt><dd>True: restart adv, False: Do not restart Adv </dd></dl>

</div>
</div>
<a id="ga6c0e6fd4231a1b2ff2774a66dc9d7258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c0e6fd4231a1b2ff2774a66dc9d7258">&#9670;&nbsp;</a></span>srv_ble_connectivity_get_bond_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t srv_ble_connectivity_get_bond_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return number of client bonded to the device, </p>
<dl class="section return"><dt>Returns</dt><dd>Bond count </dd></dl>

</div>
</div>
<a id="gaedd93aaf113c2cc61eaee020af1c34dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaedd93aaf113c2cc61eaee020af1c34dd">&#9670;&nbsp;</a></span>srv_ble_connectivity_get_connection_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t srv_ble_connectivity_get_connection_handle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return connection handle for the actual connection,. </p>
<dl class="section return"><dt>Returns</dt><dd>uint16_t connection handle </dd></dl>

</div>
</div>
<a id="ga943457618d36d727085547b9173557c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga943457618d36d727085547b9173557c4">&#9670;&nbsp;</a></span>srv_ble_connectivity_get_connection_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__srv__ble__cnx.html#gaaa55ccd71554623326a84b6a65df551f">srv_ble_connectivity_status_t</a> srv_ble_connectivity_get_connection_status </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get BLE connection status. </p>
<dl class="section return"><dt>Returns</dt><dd>BLE connection status </dd></dl>

</div>
</div>
<a id="ga31c3c228d4a8399495dac4c7d77dff59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31c3c228d4a8399495dac4c7d77dff59">&#9670;&nbsp;</a></span>srv_ble_connectivity_get_power_consumption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t srv_ble_connectivity_get_power_consumption </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return connectivity power consumption. </p>
<dl class="section return"><dt>Returns</dt><dd>value of the power consumption in uAh </dd></dl>

</div>
</div>
<a id="ga5b0441d183b5aefb16bd459cffc465d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b0441d183b5aefb16bd459cffc465d0">&#9670;&nbsp;</a></span>srv_ble_connectivity_init_ble_services()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void srv_ble_connectivity_init_ble_services </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaos__ble__app__data__t.html">aos_ble_app_data_t</a> *&#160;</td>
          <td class="paramname"><em>app_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize BLE services (standard and custom BLE services),. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app_info</td><td>data needed for initialization (services and characteristics to init and characteristics value) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaed9425b10d7429b1dcb5f88f70119acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed9425b10d7429b1dcb5f88f70119acd">&#9670;&nbsp;</a></span>srv_ble_connectivity_remove_bond()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool srv_ble_connectivity_remove_bond </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function remove all bonded devices, it doesn't disconnect the device if connected. </p>
<dl class="section return"><dt>Returns</dt><dd>bool return success/failure </dd></dl>

</div>
</div>
<a id="ga6279d7da93ae342fff1775a5c3c19952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6279d7da93ae342fff1775a5c3c19952">&#9670;&nbsp;</a></span>srv_ble_connectivity_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a> srv_ble_connectivity_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsrv__ble__conn__adv__config__t.html">srv_ble_conn_adv_config_t</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the advertisement for connectivity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>advertising configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the operation </dd></dl>

</div>
</div>
<a id="gae51118d909c5891bc4fc83bdbece71b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae51118d909c5891bc4fc83bdbece71b4">&#9670;&nbsp;</a></span>srv_ble_connectivity_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a> srv_ble_connectivity_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the advertisement for connectivity. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the operation </dd></dl>

</div>
</div>
<a id="gab7ebbc9d26d483c0a75eadb31405edf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7ebbc9d26d483c0a75eadb31405edf4">&#9670;&nbsp;</a></span>srv_ble_connectivity_stop_advertising()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__system.html#gad3ecdc146fcc76996620c96df43c1b3f">aos_result_t</a> srv_ble_connectivity_stop_advertising </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop connectivity advertising. </p>
<dl class="section return"><dt>Returns</dt><dd>The status result of the operation </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
