<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Abeeway Geolocation Module SDK: aos-core/aos_ble/aos_ble_core.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Abeeway Geolocation Module SDK
   </div>
   <div id="projectbrief">A FreeRTOS based Software Development Kit for the Abeeway Geolocation Module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b7dd5bfba1754035fd7f47192cfa2df.html">aos-core</a></li><li class="navelem"><a class="el" href="dir_62cf3e18262eab09b841d8978283759c.html">aos_ble</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">aos_ble_core.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>BLE core related API (connectivity, advertisement, scan ...)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ble.h&quot;</code><br />
<code>#include &quot;tl.h&quot;</code><br />
<code>#include &quot;core_cm4.h&quot;</code><br />
<code>#include &quot;FreeRTOS.h&quot;</code><br />
<code>#include &quot;semphr.h&quot;</code><br />
<code>#include &quot;hci_tl.h&quot;</code><br />
<code>#include &quot;ble_types.h&quot;</code><br />
<code>#include &quot;stdbool.h&quot;</code><br />
<code>#include &quot;<a class="el" href="aos__common_8h_source.html">aos_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="aos__ble__common_8h_source.html">aos_ble_common.h</a>&quot;</code><br />
<code>#include &quot;task.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for aos_ble_core.h:</div>
<div class="dyncontent">
<div class="center"><img src="aos__ble__core_8h__incl.png" border="0" usemap="#aos-core_2aos__ble_2aos__ble__core_8h" alt=""/></div>
<map name="aos-core_2aos__ble_2aos__ble__core_8h" id="aos-core_2aos__ble_2aos__ble__core_8h">
<area shape="rect" title="BLE core related API (connectivity, advertisement, scan ...)" alt="" coords="436,5,583,47"/>
<area shape="rect" title=" " alt="" coords="5,95,56,121"/>
<area shape="rect" title=" " alt="" coords="80,95,120,121"/>
<area shape="rect" title=" " alt="" coords="144,95,235,121"/>
<area shape="rect" title=" " alt="" coords="259,95,355,121"/>
<area shape="rect" title=" " alt="" coords="379,95,453,121"/>
<area shape="rect" title=" " alt="" coords="477,95,541,121"/>
<area shape="rect" title=" " alt="" coords="566,95,655,121"/>
<area shape="rect" title=" " alt="" coords="927,393,1001,420"/>
<area shape="rect" href="aos__common_8h.html" title="Common definitions." alt="" coords="731,169,842,196"/>
<area shape="rect" href="aos__ble__common_8h.html" title="common types and const for BLE module" alt="" coords="1719,95,1854,121"/>
<area shape="rect" title=" " alt="" coords="1879,95,1937,121"/>
<area shape="rect" title=" " alt="" coords="754,244,819,271"/>
<area shape="rect" href="aos__ble__conf_8h.html" title="Configuration file for BLE Middleware." alt="" coords="866,169,977,196"/>
<area shape="rect" title=" " alt="" coords="1001,169,1135,196"/>
<area shape="rect" title=" " alt="" coords="1159,169,1259,196"/>
<area shape="rect" title=" " alt="" coords="1283,169,1424,196"/>
<area shape="rect" title=" " alt="" coords="1448,169,1611,196"/>
<area shape="rect" title=" " alt="" coords="1635,169,1773,196"/>
<area shape="rect" title=" " alt="" coords="1797,169,1941,196"/>
<area shape="rect" title=" " alt="" coords="1965,169,2107,196"/>
<area shape="rect" title=" " alt="" coords="2131,169,2271,196"/>
<area shape="rect" title=" " alt="" coords="2295,169,2451,196"/>
<area shape="rect" title=" " alt="" coords="2476,169,2620,196"/>
<area shape="rect" title=" " alt="" coords="2644,169,2796,196"/>
<area shape="rect" title=" " alt="" coords="2820,169,2964,196"/>
<area shape="rect" title=" " alt="" coords="2989,169,3123,196"/>
<area shape="rect" title=" " alt="" coords="3148,169,3231,196"/>
<area shape="rect" href="app__conf_8h.html" title="Application configuration file for STM32WPAN Middleware." alt="" coords="898,244,985,271"/>
<area shape="rect" title=" " alt="" coords="731,319,779,345"/>
<area shape="rect" title=" " alt="" coords="803,319,885,345"/>
<area shape="rect" title=" " alt="" coords="909,319,973,345"/>
<area shape="rect" title=" " alt="" coords="997,319,1096,345"/>
<area shape="rect" href="aos__thread__priority_8h_source.html" title=" " alt="" coords="1120,319,1261,345"/>
<area shape="rect" href="aos__log_8h.html" title="log facility" alt="" coords="1286,319,1365,345"/>
<area shape="rect" title=" " alt="" coords="1295,393,1356,420"/>
</map>
</div>
</div>
<p><a href="aos__ble__core_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0e078e6f80c95809a7ecc93410f8ed9a"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga0e078e6f80c95809a7ecc93410f8ed9a">AOS_BLE_CORE_TX_POWER_LEVEL_MIN</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga0e078e6f80c95809a7ecc93410f8ed9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Min index of tx power level. <br /></td></tr>
<tr class="separator:ga0e078e6f80c95809a7ecc93410f8ed9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga391b9f32d78aef608c1419b3d5c692cd"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga391b9f32d78aef608c1419b3d5c692cd">AOS_BLE_CORE_TX_POWER_LEVEL_MAX</a>&#160;&#160;&#160;31</td></tr>
<tr class="memdesc:ga391b9f32d78aef608c1419b3d5c692cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max index of tx power level. <br /></td></tr>
<tr class="separator:ga391b9f32d78aef608c1419b3d5c692cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga996f7be338ccb40d1a2a5abc1ad61759"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga996f7be338ccb40d1a2a5abc1ad61759">ABS</a>(x)&#160;&#160;&#160;((x)&gt;0? (x):-(x))</td></tr>
<tr class="memdesc:ga996f7be338ccb40d1a2a5abc1ad61759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to get the absolute value of the input parameter. <br /></td></tr>
<tr class="separator:ga996f7be338ccb40d1a2a5abc1ad61759"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gabb9e99d9aac7614e4e90689340396bf8"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#gabb9e99d9aac7614e4e90689340396bf8">aos_ble_core_notif_callback_t</a>) (void *pckt)</td></tr>
<tr class="memdesc:gabb9e99d9aac7614e4e90689340396bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">BLE notification callback type, used to dispatch BLE notifications.  <a href="group__aos__ble__core.html#gabb9e99d9aac7614e4e90689340396bf8">More...</a><br /></td></tr>
<tr class="separator:gabb9e99d9aac7614e4e90689340396bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6c39ca0160f0a38427f82f90f7941b41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga6c39ca0160f0a38427f82f90f7941b41">aos_ble_core_app_init</a> (uint8_t ble_role)</td></tr>
<tr class="memdesc:ga6c39ca0160f0a38427f82f90f7941b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">BLE Initialization API.  <a href="group__aos__ble__core.html#ga6c39ca0160f0a38427f82f90f7941b41">More...</a><br /></td></tr>
<tr class="separator:ga6c39ca0160f0a38427f82f90f7941b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga558c4848aabd0b02eaa28e9840767103"><td class="memItemLeft" align="right" valign="top">const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga558c4848aabd0b02eaa28e9840767103">aos_ble_core_get_bd_address</a> (void)</td></tr>
<tr class="memdesc:ga558c4848aabd0b02eaa28e9840767103"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get BLE Device address.  <a href="group__aos__ble__core.html#ga558c4848aabd0b02eaa28e9840767103">More...</a><br /></td></tr>
<tr class="separator:ga558c4848aabd0b02eaa28e9840767103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16284132bcba512b97d1db5a37d130d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga16284132bcba512b97d1db5a37d130d7">aos_ble_core_set_tx_power_level</a> (uint8_t tx_power_level)</td></tr>
<tr class="memdesc:ga16284132bcba512b97d1db5a37d130d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set TX POWER LEVEL,.  <a href="group__aos__ble__core.html#ga16284132bcba512b97d1db5a37d130d7">More...</a><br /></td></tr>
<tr class="separator:ga16284132bcba512b97d1db5a37d130d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90841f93dc44a1ee6b1ff7fc9bdf63b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga90841f93dc44a1ee6b1ff7fc9bdf63b4">aos_ble_core_get_tx_power_dbm</a> (uint8_t pow_level, int16_t *pow_dbm)</td></tr>
<tr class="memdesc:ga90841f93dc44a1ee6b1ff7fc9bdf63b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert TX POWER from LEVEL to 0.01dBm unit,.  <a href="group__aos__ble__core.html#ga90841f93dc44a1ee6b1ff7fc9bdf63b4">More...</a><br /></td></tr>
<tr class="separator:ga90841f93dc44a1ee6b1ff7fc9bdf63b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a4aaebedfe28da2639e7342ff341172"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga6a4aaebedfe28da2639e7342ff341172">aos_ble_core_hci_notify_asynch_evt</a> (void *pdata)</td></tr>
<tr class="memdesc:ga6a4aaebedfe28da2639e7342ff341172"><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback is called from either.  <a href="group__aos__ble__core.html#ga6a4aaebedfe28da2639e7342ff341172">More...</a><br /></td></tr>
<tr class="separator:ga6a4aaebedfe28da2639e7342ff341172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06e39b2af25b2bd45f5cc2db05deb4cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga06e39b2af25b2bd45f5cc2db05deb4cc">aos_ble_core_hci_cmd_resp_release</a> (uint32_t flag)</td></tr>
<tr class="memdesc:ga06e39b2af25b2bd45f5cc2db05deb4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when an ACI/HCI command response is received from the CPU2. A weak implementation is available in hci_tl.c based on polling mechanism The user may re-implement this function in the application to improve performance :  <a href="group__aos__ble__core.html#ga06e39b2af25b2bd45f5cc2db05deb4cc">More...</a><br /></td></tr>
<tr class="separator:ga06e39b2af25b2bd45f5cc2db05deb4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4173d0c243293df5dde7f2f5df00967"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#gae4173d0c243293df5dde7f2f5df00967">aos_ble_core_hci_cmd_resp_wait</a> (uint32_t timeout)</td></tr>
<tr class="memdesc:gae4173d0c243293df5dde7f2f5df00967"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when an ACI/HCI command is sent to the CPU2 and the response is waited. It is called from the same context the HCI command has been sent. It shall not return until the command response notified by <a class="el" href="group__aos__ble__core.html#ga06e39b2af25b2bd45f5cc2db05deb4cc" title="This function is called when an ACI/HCI command response is received from the CPU2....">aos_ble_core_hci_cmd_resp_release()</a> is received. A weak implementation is available in hci_tl.c based on polling mechanism The user may re-implement this function in the application to improve performance :  <a href="group__aos__ble__core.html#gae4173d0c243293df5dde7f2f5df00967">More...</a><br /></td></tr>
<tr class="separator:gae4173d0c243293df5dde7f2f5df00967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga981341141dd4d678c97e7e77d1028385"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga981341141dd4d678c97e7e77d1028385">aos_ble_core_get_ble_firmware_version</a> (<a class="el" href="structaos__ble__core__fw__version__t.html">aos_ble_core_fw_version_t</a> *ble_version)</td></tr>
<tr class="memdesc:ga981341141dd4d678c97e7e77d1028385"><td class="mdescLeft">&#160;</td><td class="mdescRight">get stack and FUS firmwares version,  <a href="group__aos__ble__core.html#ga981341141dd4d678c97e7e77d1028385">More...</a><br /></td></tr>
<tr class="separator:ga981341141dd4d678c97e7e77d1028385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97796071c2108b7324ea0b18f7d5a09f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga97796071c2108b7324ea0b18f7d5a09f">aos_ble_core_set_scan_callback</a> (<a class="el" href="group__aos__ble__core.html#gabb9e99d9aac7614e4e90689340396bf8">aos_ble_core_notif_callback_t</a> cb)</td></tr>
<tr class="memdesc:ga97796071c2108b7324ea0b18f7d5a09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set callback function for scan service.  <a href="group__aos__ble__core.html#ga97796071c2108b7324ea0b18f7d5a09f">More...</a><br /></td></tr>
<tr class="separator:ga97796071c2108b7324ea0b18f7d5a09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcb707b9ac1140e86e3214affa12d7d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#gadcb707b9ac1140e86e3214affa12d7d0">aos_ble_core_set_connectivity_callback</a> (<a class="el" href="group__aos__ble__core.html#gabb9e99d9aac7614e4e90689340396bf8">aos_ble_core_notif_callback_t</a> cb)</td></tr>
<tr class="memdesc:gadcb707b9ac1140e86e3214affa12d7d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set callback function for connectivity service.  <a href="group__aos__ble__core.html#gadcb707b9ac1140e86e3214affa12d7d0">More...</a><br /></td></tr>
<tr class="separator:gadcb707b9ac1140e86e3214affa12d7d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d33f0cf0e9a3d8676e56d9946378763"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__ble__core.html#ga7d33f0cf0e9a3d8676e56d9946378763">aos_ble_core_set_app_callback</a> (<a class="el" href="group__aos__ble__core.html#gabb9e99d9aac7614e4e90689340396bf8">aos_ble_core_notif_callback_t</a> cb)</td></tr>
<tr class="memdesc:ga7d33f0cf0e9a3d8676e56d9946378763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set callback function for application.  <a href="group__aos__ble__core.html#ga7d33f0cf0e9a3d8676e56d9946378763">More...</a><br /></td></tr>
<tr class="separator:ga7d33f0cf0e9a3d8676e56d9946378763"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>BLE core related API (connectivity, advertisement, scan ...) </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2022, Abeeway (www.abeeway.com). All Rights Reserved. </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
